---
title: Unicode
date: 2022-02-10 10:13:37
permalink: /pages/65d425/
categories:
  - 杂
tags:
  - 
---

所有语言都由字符组成，每种语言所需的字符集不同。
计算机的世界里，所有信息都是以二进制 0 1 的形式存在的，而于人类而言，信息是特定语言中字符排列组合成的字符序列。人类若是想要实现通过计算机来实现存储、计算、输出、输入信息，必须将人类语言构成的信息编码成计算机能识别的 0 1，之后才能输入、存储、计算、输出，计算机输出信息给人类，又需要把 0 1 构成的信息转换成人类语言，这两个过程的术语称为编码与解码。

早期 ASCII(American Standard Code for Information Interchange)<美国信息交换标准代码>，是基于拉丁字母的一套计算机编码系统，主要用于显示英语和其西欧语言。(1967年第一次以规范标准的类型发表，1986年最后一次更新，共定义了128个字符)

不同体系的人类语言有很多，各自为不同的人类语言建立独立的编码体系表，会导致在计算机的世界里同一个二进制单元可以被解析成各种不同的字符，要想正确解析信息，计算机需维护所有存在的编码体系表，并在解析前清晰的知道它所使用的的编码体系具体是什么。用错编码体系表会导致错误的编码，信息展示出错。

## Unicode

Unicode 字符集包含世界所有语言的符号，提供了一个全球通用的编码体系表。兼容 ASCII。
码点范围：U+0000~U+10FFFF

Unicode 提供了三种编码方案
1. UTF-32
2. UTF-16
3. UTF-8

### UTF-32

定长的编码方式，固定 4 个字节表示一个字符，空出的高位补 0 。

缺点：因为不管多大的码点都使用 4 个字节表示，导致很多空间的浪费。

### UTF-16

变长的编码方式，使用 2 个字节，或 4 个字节。

BMP（Basic Multilingual Plane，基本多语言平面）：范围在 U+0000～U+FFFF 的码点
SP（Supplementary Planes，增补平面）：U+10000 ～ U+10FFFF

BMP 中存在 2048 个空闲码点（代理区）
- 高代理区：D800–DBFF
- 低代理区：DC00–DFFF

1024 * 1024 = 16 * 65536，正好代理 SP (增补平面)的所有码点

当一个字符存入计算机之前，需转换成对应的 Unicode 码点，如果码点位于 SP 增补平面，则需计算代理对，将得到的**高代理码点**、**低代理码点**(代理对，共 4 个字节)以二进制存入计算机。

![](https://cdn.jsdelivr.net/gh/wangchiech/image_store/img/202202101558562.png)

![](https://cdn.jsdelivr.net/gh/wangchiech/image_store/img/202202101726059.png)

### UTF-8

变长的编码方式，使用 1 个字节， 2 个字节，3 个字节，4 个字节。
使用**高位保留**的方式区分不同边长

- 对于只有一个字节的符号，字节的第一位设为0，后面 7 位为这个符号的 Unicode 码。此时，对于英语字母UTF-8 编码和 ASCII 码是相同的。
- 对于 n 字节的符号（n > 1），第一个字节的前 n 位都设为 1，第 n + 1 位设为0，后面字节的前两位一律设为 10。剩下的没有提及的二进制位，全部为这个符号的 Unicode 码，如下表所示：

![](https://cdn.jsdelivr.net/gh/wangchiech/image_store/img/202202101741829.png)

**参考文章**


[深入理解字符编码（ASCII、Unicode、UTF-8、UTF-16、UTF-32）](https://juejin.cn/post/6844904159314116622)

[中文字符集编码unicode,gb2312,cp936,GBK,GB18030介绍](https://www.iteye.com/blog/itommy-2286753)